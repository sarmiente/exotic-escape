---
import { t } from "i18next";
import {Icon} from "astro-icon/components"
const services = [
  {
    title: t("nav.inter"),
    subtitle: t("services.sub-one"),
    image: "/ship_port.svg",
    content: t("services.one")
  },
  {
    title: t("nav.docs"),
    subtitle: t("services.sub-two"),
    image: "https://images.unsplash.com/photo-1450101499163-c8848c66ca85?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    content: t("services.two")
  },
  {
    title: t("nav.distr"),
    subtitle: t("services.sub-three"),
    image: "https://images.unsplash.com/photo-1493946740644-2d8a1f1a6aff?q=80&w=2090&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    content: t("services.three")
  },
  {
    title: t("nav.cons"),
    subtitle: t("services.sub-four"),
    image: "https://images.unsplash.com/photo-1554902843-260acd0993f8?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    content: t("services.four")
  },
  {
    title: t("nav.sure"),
    subtitle: t("services.sub-five"),
    image: "https://images.unsplash.com/photo-1605732562742-3023a888e56e?q=80&w=1935&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    content: t("services.five")
  },
  {
    title: t("nav.per"),
    subtitle: t("services.sub-six"),
    image: "https://images.unsplash.com/photo-1721937127582-ed331de95a04?q=80&w=1937&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    content: t("services.six")
  },
];
---

<div
  x-cloak
  style="display: none;"
  x-show="modalIsOpen"
  x-transition.opacity.duration.200ms
  x-trap.inert.noscroll="modalIsOpen"
  @keydown.esc.window="modalIsOpen = false"
  @click.self="modalIsOpen = false"
  class="fixed inset-0 z-30 flex items-end justify-center bg-black/20 p-4 pb-8 backdrop-blur-md sm:items-center lg:p-8"
  role="dialog"
  aria-modal="true"
  aria-labelledby="defaultModalTitle"
>
  <!-- Modal Dialog -->
  <div
    x-show="modalIsOpen"
    x-transition:enter="transition ease-out duration-200 delay-100 motion-reduce:transition-opacity"
    x-transition:enter-start="opacity-0 scale-50"
    x-transition:enter-end="opacity-100 scale-100"
    class="flex mx- flex-col gap-4 overflow-hidden rounded-md border border-neutral-300 bg-white text-neutral-600 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-300"
  >
    <!-- Dialog Header -->
    <div
      class="flex items-center justify-between border-b border-neutral-300 bg-neutral-50/60 p-4 dark:border-neutral-700 dark:bg-neutral-950/20"
    >
      <h3
        id="defaultModalTitle"
        class="font-semibold tracking-wide text-neutral-900 dark:text-white"
      >
        
      </h3>
      <button @click="modalIsOpen = false" aria-label="close modal">
        <Icon class="size-6" name="close" />
      </button>
    </div>

    <div class="p-6 ">
      <div
        class="bg-gray-50 relative max-w-3xl h-auto flex flex-wrap gap-6 rounded-3xl border border-gray-100 sm:flex-nowrap sm:gap-0"
      >
        <div class="w-full text-center lg:w-1/2 swiper rounded-xl">
        <div class="swiper-wrapper w-full rounded-xl">
          {
            services.map((item) => (
            <div class="swiper-slide p-2 md:h-full rounded-xl">
            
            <li class="group relative rounded-xl">
              <img
                  alt="Fotos de servicios de transporte nautico"
                  src={item.image}
                  class="absolute w-full h-96 object-cover opacity-75 hidden sm:flex rounded-xl"
          />
          <div class="relative p-6 lg:p-8 bg-rich-black opacity-75 transition-opacity rounded-xl">
              <p class="text-xs font-medium uppercase tracking-widest text-white">
                {item.subtitle}
              </p>
  
              <p class="text-xl font-hero text-white sm:text-2xl">
                {item.title}
              </p>
          </div>
            </li>
  
              
            </div>
            
            ))
          }
        
        </div>
          
        </div>

        <!-- Formulario -->
        <div class="w-full p-4 text-center lg:w-1/2">
          <form action="/" class="space-y-6">
            <!-- Input de Nombre -->
            <div>
              <label class="sr-only" for="name">{t("cta.name")}</label>
              <input
                required
                class="w-full rounded-lg border-gray-200 p-3 text-sm font-body"
                placeholder={t("cta.name")}
                type="text"
                id="name"
              />
            </div>

            <!-- Inputs de Email y Teléfono -->
            <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
              <div>
                <label class="sr-only" for="email">{t("cta.mail")}</label>
                <input
                required
                  class="w-full rounded-lg border-gray-200 p-3 text-sm font-body"
                  placeholder={t("cta.mail")}
                  type="email"
                  id="email"
                />
              </div>

              <div>
                <label class="sr-only" for="phone">{t("cta.phone")}</label>
                <input
                  required
                  class="w-full rounded-lg border-gray-200 p-3 text-sm font-body"
                  placeholder={t("cta.phone")}
                  type="tel"
                  id="phone"
                />
              </div>
            </div>

            <!-- Mensaje -->
            <div>
              <label class="sr-only" for="message">{t("contact.title")}</label>
              <textarea
                class="w-full h-32 rounded-lg border-gray-200 p-3 text-sm form-textarea resize-none font-body"
                placeholder={t("cta.msg")}
                
                
                id="message"></textarea>
            </div>

            <!-- Botón -->
            <div class="mt-4">
              <button
                type="submit"
                class="inline-block w-full rounded-lg bg-true-blue hover:bg-oxford-blue px-5 py-3 font-medium text-white sm:w-auto"
              >
                {t("cta.btn")}
              </button>
            </div>
          </form>
        </div>
      </div>
      <!-- Dialog Footer -->
      <div
        class="flex flex-col-reverse justify-between gap-2  border-neutral-300 bg-neutral-50/60 p-4 dark:border-neutral-700 dark:bg-neutral-950/20 sm:flex-row sm:items-center md:justify-end"
      >
        <button
          @click="modalIsOpen = false"
          type="button"
          class="cursor-pointer whitespace-nowrap rounded-md px-4 py-2 text-center text-sm font-medium tracking-wide text-neutral-600 transition hover:opacity-75 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-black active:opacity-100 active:outline-offset-0 dark:text-neutral-300 dark:focus-visible:outline-white"
        >
          {t("cta.cnl")}
        </button>
      </div>
    </div>
  </div>

<script is:inline defer src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>

  // @ts-nocheck
  const swiper = new Swiper('.swiper', {
    autoplay: {
    delay: 5000,
  },
    direction: "horizontal",
    
  
  });
</script>
